<div class="container login-container d-flex justify-content-center align-items-center" dir="rtl">
    <div class="login-card text-center">
        <div class="logo mb-3">
            <i class="bi bi-person-circle"></i>
        </div>
        <h4 class="fw-bold" style="color: rgb(157, 77, 232)">مرحبًا بعودتك</h4>
        <p class="text-muted mb-4">سجّل الدخول إلى حسابك</p>

        <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

            <!-- اسم المستخدم -->
            <div class="mb-3 text-start">
                <label for="name" class="form-label text-end w-100">الاسم</label>
                <input [ngClass]="{'is-valid': !loginForm.get('userName')?.errors && loginForm.get('userName')?.touched,
                'is-invalid': loginForm.get('userName')?.errors && loginForm.get('userName')?.touched}"
                    type="text" id="name" formControlName="userName" class="form-control form-input" />

                @if (loginForm.get('userName')?.touched && loginForm.get('userName')?.invalid) {
                <div class="form-error text-start">
                    @if (loginForm.get('userName')?.errors?.['required']) {
                    <span>الاسم مطلوب</span>
                    } @if (loginForm.get('userName')?.errors?.['pattern']) {
                    <span>الاسم يجب أن يحتوي على حروف فقط</span>
                    }
                </div>
                }
            </div>

            <!-- كلمة المرور -->
            <div class="mb-3 text-start">
                <label for="password" class="form-label text-end w-100">كلمة المرور</label>
                <input [ngClass]="{'is-valid': !loginForm.get('password')?.errors && loginForm.get('password')?.touched,
                           'is-invalid': loginForm.get('password')?.errors && loginForm.get('password')?.touched}"
                    type="password" formControlName="password" id="password" class="form-control"
        />

                @if ((loginForm.get('password')?.touched || loginForm.get('password')?.dirty) &&
                loginForm.get('password')?.invalid) {
                <div class="form-error text-start">
                    @if (loginForm.get('password')?.errors?.['required']) {
                    <span>كلمة المرور مطلوبة</span>
                    } @if (loginForm.get('password')?.errors?.['minlength']) {
                    <span>يجب أن تكون كلمة المرور 8 أحرف على الأقل</span>
                    } @if (loginForm.get('password')?.errors?.['pattern']) {
                    <span>يجب أن تحتوي كلمة المرور على حرف كبير، رقم، ورمز خاص</span>
                    }
                </div>
                }
            </div>

            <!-- نسيت كلمة المرور -->
            <div class="d-flex justify-content-end mb-3">
                <a [routerLink]="['/forgotPassword']" class="text-decoration-none" style="color: #6f42c1;">هل نسيت كلمة
                    المرور؟</a>
            </div>

            <!-- زر الدخول -->
            <button type="submit" class="btn btn-gradient w-100 py-2">تسجيل الدخول</button>
        </form>

        <p class="mt-4 mb-0">ليس لديك حساب؟
            <a class="text-decoration-none" [routerLink]="['/Register']" style="color: #6f42c1;">
                أنشئ حسابًا
            </a>
        </p>
    </div>
</div>